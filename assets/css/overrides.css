/* Site overrides for header, nav, and small utilities */
.site-nav { display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:0.75rem 0; }
.site-nav .site-logo img { height:3rem; width:3rem; object-fit:cover; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.08); }
.site-nav ul { margin:0; padding:0; list-style:none; display:flex; gap:1.1rem; align-items:center; }
.site-nav a { color: var(--text-color); text-decoration:none; padding:0.25rem 0.15rem; }
.site-nav a:hover { color: var(--primary); }

.site-logo a { display:inline-block; background: #fff; padding:4px; border-radius:10px; box-shadow: 0 2px 6px rgba(0,0,0,0.06); }
.site-logo-img { height:3rem; width:3rem; object-fit:cover; border-radius:8px; display:block; }

/* Header inner container (header stays full width; inner content is constrained) */
.site-header { background: transparent; width: 100%; padding: 1.25rem 0; border-bottom: 1px solid rgba(0,0,0,0.04); }
.site-header-inner { max-width: 980px; margin: 0 auto; padding: 0 1rem; }

.site-header { text-align:center; margin-top:2.5rem; margin-bottom:1.5rem; }
.site-header .site-title {
  margin:0 0 0.35rem 0;
  font-family: 'Merriweather', 'Georgia', serif;
  font-weight:700;
  color: #1b2b2b;
  font-size: clamp(1.6rem, 4.2vw, 2.8rem);
  letter-spacing: -0.5px;
}
.site-header .site-description {
  margin:0;
  font-family: 'Merriweather', 'Georgia', serif;
  font-weight:300;
  color: var(--muted-color, #6b6b6b);
  font-size: clamp(1rem, 1.6vw, 1.25rem);
}

/* Layout container: center page and constrain width for better readability */
.site-container {
  max-width: 980px;
  margin: 0 auto;
  padding: 1.25rem 1rem; /* give breathing room on mobile */
}

/* Post layout hooks */
.post-main { max-width: 980px; margin:1.5rem auto; padding:0 1rem; }
.post-meta { color: var(--muted-color, #888); font-size:1rem; }

/* Make sure article cards inherit card styles */
article { box-sizing: border-box; }

/* Neutralize legacy Notepad theme rules so they don't fight Pico/overrides */
.notepad-site-head,
.notepad-blog-menu,
.notepad-post-header,
.notepad-post-title,
.notepad-content,
.notepad-site-footer,
.notepad-index-post,
.notepad-post-content,
.notepad-post-excerpt,
.notepad-index-post-tags {
  all: unset;
  box-sizing: border-box;
}

/* If specific elements are needed, make them inherit sensible defaults */
.notepad-site-footer { background: transparent; color: inherit; padding: 1rem 0; }
.notepad-blog-menu { display: none; }
.notepad-post-title { font-weight: inherit; font-size: inherit; }

/* Preserve any utility classes used in templates but neutralize heavy layout rules */
.row, .columns, .small-12, .medium-3, .large-2 { display: block; width: auto; float: none; }
.show-for-small { display: none !important; }

/* Icon helper: use for <img> SVG icons */
.icon {
  width: 1.1em;
  height: 1.1em;
  vertical-align: middle;
  display: inline-block;
}

/* Ensure nav images don't overflow */
.site-nav .icon { width: 1.2rem; height: 1.2rem; }

/* Image thumbnail helpers: consistent aspect ratio, cover, and lazy loading support */
.img-thumb {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  border-radius: 0.5rem;
}

/* Use flex-basis to keep thumbnails consistent inside flex card layouts */
.cover-thumb {
  flex: 0 0 120px; /* reserved width in card layout */
  width: 120px;
  height: 90px; /* visual crop area */
  display: block;
  border-radius: 0.5rem;
  overflow: hidden;
  background: #eee;
}

/* The actual image should fill the container and preserve crop via object-fit */
.cover-thumb > img,
.cover-thumb picture img,
.cover-thumb .img-thumb {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Responsive adjustments for the index list */
@media (max-width: 699px) {
  .cover-thumb { width: 100%; height: 180px; flex-basis: auto; }
}

/* Theme toggle styling: make it a clean icon-only button */
#theme-toggle {
  background: transparent !important;
  border: none !important;
  padding: 0.25rem !important;
  margin: 0 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: var(--muted-color, #666) !important;
  border-radius: 6px !important;
  cursor: pointer;
  width: 36px;
  height: 36px;
}
#theme-toggle:hover { background: rgba(0,0,0,0.04) !important; color: var(--primary) !important; }
#theme-toggle:focus { outline: 3px solid rgba(3,169,244,0.35); outline-offset: 2px; }
#theme-toggle-icon { font-size: 1.05rem; line-height:1; }

/* Broader Font Awesome fallbacks for various versions (helps when resets removed inherited fonts) */
/* Solid icons in FA7/6 require heavier font-weight (900) */
.fa, .fas, .fal, .fa-solid { font-family: "Font Awesome 7 Free", "Font Awesome 6 Free", "Font Awesome 5 Free" !important; font-weight: 900 !important; }
.far { font-family: "Font Awesome 7 Free", "Font Awesome 6 Free", "Font Awesome 5 Free" !important; font-weight: 400 !important; }
.fa-brands, .fab { font-family: "Font Awesome 7 Brands", "Font Awesome 6 Brands", "Font Awesome 5 Brands" !important; font-weight: 400 !important; }

/* Make sure Font Awesome icons render by forcing sensible display and smoothing */
.fa, .fas, .far, .fal, .fa-solid, .fa-brands, .fab {
  display: inline-block !important;
  speak: none !important;
  font-style: normal !important;
  text-rendering: auto !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Ensure pseudo elements used by FA still render when parent resets occurred */
.fa:before, .fas:before, .far:before, .fab:before { display: inline-block; }

/* Card/index layout: ensure consistent thumbnail behavior when transform injects extra wrappers */
.card .cover-thumb, .notepad-index-post .cover-thumb { flex: 0 0 120px; width: 120px; height: 90px; }
.card .cover-thumb .with-image, .notepad-index-post .cover-thumb .with-image { margin: 0; }
.card .cover-thumb img, .notepad-index-post .cover-thumb img { width: 100%; height: 100%; object-fit: cover; display:block; }

/* Improve spacing for smaller screens */
@media (max-width: 699px) {
  .site-header { margin-top:1.5rem; }
  .site-nav { padding:0.5rem 0; }
  .site-nav .site-logo img { height:2.6rem; width:2.6rem; }
  .post-main { margin:1rem auto; padding:0 0.75rem; }
}
