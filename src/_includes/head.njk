<meta charset="utf-8">
<title>{% if title %}{{ title | upper }} &vert; {% endif %}{{ site.title | upper }}</title>
<meta name="description" content="{% if description %}{{ description }}{% else %}{{ site.description }}{% endif %}">

{% if page.tags and page.tags.length %}
    <meta name="keywords" content="{{ page.tags | join(', ') }}">
{% endif %}

{# Twitter Card #}
{% if site.owner.twitter %}
    {% if imagefeature %}
        <meta name="twitter:card" content="summary_large_image">
    {% else %}
        <meta name="twitter:card" content="summary">
    {% endif %}
    <meta name="twitter:title" content="{% if title %}{{ title }}{% else %}{{ site.title }}{% endif %}">
    <meta name="twitter:description" content="{% if description %}{{ description }}{% else %}{{ site.description }}{% endif %}">
    <meta name="twitter:image" content="{% if imagefeature %}/img/{{ imagefeature }}{% elseif page.image.thumb %}/img/{{ page.image.thumb }}{% else %}/img/{{ site.logo }}{% endif %}">
    <meta name="twitter:creator" content="@{{ site.owner.twitter }}">
{% endif %}

{# Open Graph #}
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="{% if title %}{{ title }}{% else %}{{ site.title }}{% endif %}">
<meta property="og:description" content="{% if description %}{{ description }}{% else %}{{ site.description }}{% endif %}">
<meta property="og:url" content="{{ page.url }}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:image" content="{% if imagefeature %}/img/{{ imagefeature }}{% else %}/img/{{ site.logo }}{% endif %}">

{% if site.google_verify %}
    <meta name="google-site-verification" content="{{ site.google_verify }}">
{% endif %}
{% if site.bing_verify %}
    <meta name="msvalidate.01" content="{{ site.bing_verify }}">
{% endif %}

{# Canonical URL #}
{% set canonical = page.url.replace('index.njk', '') %}
<link rel="canonical" href="{{ canonical }}">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="{{ site.title }} Feed">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

{# Modern Google Font #}
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
{# Heading font: Merriweather for a nicer site title and subtitle #}
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700&display=swap" rel="stylesheet">
{# Pico CSS #}
<link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
{# Custom site CSS overrides (optional, for later steps) #}
<link rel="stylesheet" href="/assets/css/style.css">

<!-- Extra Pages -->
{# Accept extra_css from frontmatter (preferred) or fallback to page.extra_css #}
{% set _extraCss = extra_css or page.extra_css %}
{% if _extraCss %}
    {% for css in _extraCss %}
        <link rel="stylesheet" href="/assets/css/{{ css }}">
    {% endfor %}
{% endif %}
<!-- End Extra Pages -->

{# Icons #}
<link rel="shortcut icon" href="/favicon.ico">
<link rel="shortcut icon" href="/favicon.png">
<link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72x72-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114x114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144x144-precomposed.png">
